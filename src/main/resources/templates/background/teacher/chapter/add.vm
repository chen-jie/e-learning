<html>

<head>
    <meta charset="utf-8">
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="/static/css/index.css"/>
    #parse("./common/head.vm")
    <title>章节添加</title>
    <style>
        .my-define-file {
            position: relative;
            display: inline-block;
            background: #D0EEFF;
            border: 1px solid #99D3F5;
            border-radius: 4px;
            padding: 8px 15px;
            overflow: hidden;
            color: #1E88C7;
            text-decoration: none;
            text-indent: 0;
            line-height: 20px;
        }
        .my-define-file input {
            position: absolute;
            font-size: 100px;
            right: 0;
            top: 0;
            opacity: 0;
        }
        .my-define-file:hover {
            background: #AADFFD;
            border-color: #78C3F3;
            color: #004974;
            text-decoration: none;
        }
    </style>
</head>

<body>
<div class="pd-20 user-add">
    <form class="layui-form layui-form-pane" action="/teacher/chapter/add" enctype="multipart/form-data" method="post">
        #if($!msg)
            <script>
                layer.alert('$msg');
            </script>
        #end
        <input type="hidden" name="courseId" value="$!courseId">
        <input type="hidden" name="parentId" value="$!parentId">
        #if($parentId)
            #set($title = '课时名')
        #else
            #set($title = "章节名")
        #end
        <div class="layui-form-item">
            <label class="layui-form-label">$title</label>
            <div class="layui-input-inline">
                <input type="text" name="title" required lay-filter="title" lay-verify="title"
                       autocomplete="off" placeholder="请输入$title" class="layui-input">
            </div>
        </div>
        #if($parentId)
            <div class="layui-form-item">
                <label class="layui-form-label">课件资料</label>
                <div class="layui-input-inline">
                    <a href="javascript:;" style="width: 240px;" class="my-define-file">选择文件（视频、文档、PPT...）
                        <input type="file" name="file" class="layui-input">
                    </a>
                </div>
            </div>
            <div class="layui-form-item layui-form-text" style="width:600px">
                <label class="layui-form-label">课程详情</label>
                <div class="layui-input-block">
                    <textarea id="demo" name="description"></textarea>
                </div>
            </div>
        #end
        #if(!$parentId)
            <span class="layui-hide"><input type="file" name="file"></span>
        #end
        <div class="layui-form-item">

            <div class="layui-input-inline">
                <button class="layui-btn" lay-submit="" id="add" lay-filter="useradd">立即提交</button>
            </div>
        </div>
    </form>
</div>
<script src="/static/layui/layui.js"></script>
<script>
    layui.use('layedit', function () {
        var layedit = layui.layedit;
        var form = layui.form;
        layedit.build('demo', {
            tool: ['strong' //加粗
                , 'italic' //斜体
                , 'underline' //下划线
                , 'del' //删除线

                , '|' //分割线

                , 'left' //左对齐
                , 'center' //居中对齐
                , 'right' //右对齐
                , 'link' //超链接
                , 'unlink' //清除链接
                , 'face' //表情
            ],
            height:200
        }); //建立编辑器


        form.on('submit(*)',function(){
            layer.open({type:3});
            return true;
        })
    });
</script>
</body>

</html>